<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>PSCI - Penn State Communities Index</title>
   <meta property="og:title" content="Penn State Communities Index">
   <meta property="og:type" content="website">
   <meta property="og:url" content="https://pscindex.github.io">
   <meta property="og:image" content="https://pscindex.github.io/banner.png">
   <link href="./styles.css" rel="stylesheet">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet">
   <style>
      body {
         font-family: 'Inter', sans-serif;
      }

      .pscifont {
         font-family: "Michroma", sans-serif;
         font-style: normal;
         letter-spacing: 0.15rem;
      }

      .tag-scroll {
         scrollbar-width: thin;
         scrollbar-color: #e2e8f0 transparent;
      }

      .tag-scroll::-webkit-scrollbar {
         height: 4px;
      }

      .tag-scroll::-webkit-scrollbar-track {
         background: transparent;
      }

      .tag-scroll::-webkit-scrollbar-thumb {
         background-color: #e2e8f0;
         border-radius: 10px;
      }

      .btn-instagram {
         background-image: linear-gradient(to right bottom,
               #d416d4,
               #fd1d1d,
               rgb(246, 181, 89));
      }

      .btn-instagram:hover {
         background-image: linear-gradient(to right bottom,
               #b515b5,
               #d61a1a,
               #da7d3b);
      }

      .expired-btn {
         background: transparent !important;
         border: 2px dashed #ef4444 !important;
         color: #ef4444 !important;
         opacity: 0.6 !important;
         cursor: pointer;
      }

      .filter-active {
         background: #f8fafc;
         border: 1px dashed #64748b;
         border-radius: 8px;
         padding: 16px;
         margin-bottom: 24px;
      }

      .hidden {
         display: none !important;
      }

      .tag {
         cursor: pointer;
         transition: all 0.2s ease;
      }
   </style>
</head>

<body class="bg-slate-50 min-h-screen">
   <header class="container mx-auto px-4 py-8 md:py-12 text-center">
      <h1 class="text-3xl md:text-4xl font-bold pscifont text-blue-800">
         PSCI
      </h1>
      <p class="text-lg text-slate-600 mt-2">
         Penn State Communities Index
      </p>
   </header>
   <main class="container mx-auto px-4 pb-16">
      <div class="mb-6">
         <input type="search" id="search-bar" placeholder="Search by name, tag, or description..."
            class="w-full p-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition duration-150 ease-in-out text-slate-700 placeholder-slate-400 bg-white sm:text-sm">
      </div>
      <div id="all-tags-bar" class="mb-6 p-4 border bg-white border-slate-200 rounded-xl">
         <h3 class="text-md font-semibold text-slate-700 mb-3">Filter by Tags:</h3>
         <div id="all-tags-container" class="flex flex-wrap gap-2">
            <!-- Tags will be dynamically populated here -->
         </div>
      </div>
      <div id="instagram-warning-bar"
         class="mb-4 p-4 bg-yellow-100 border border-yellow-300 rounded-xl text-yellow-900 text-sm font-medium flex items-center hidden">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2 text-yellow-600 flex-shrink-0" fill="none"
            viewBox="0 0 24 24">
            <!-- Icon from Tabler Icons by Paweł Kuna - https://github.com/tabler/tabler-icons/blob/master/LICENSE -->
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
               d="M12 9v4m-1.637-9.409L2.257 17.125a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636-2.87L13.637 3.59a1.914 1.914 0 0 0-3.274 0zM12 16h.01" />
         </svg>
         Note: Instagram opens web links in its in-app browser, which may have issues with invite links. Tap the 3-dot
         menu at the top right and choose "Open in external browser" for best results.
      </div>
      <div id="filter-status" class="filter-active hidden">
         <div class="flex flex-wrap items-center justify-between gap-4">
            <div class="flex flex-wrap items-center gap-2">
               <span class="text-slate-700 font-medium">Currently filtering:</span>
               <div id="active-filters" class="flex flex-wrap gap-2"></div>
            </div>
            <button id="clear-filters"
               class="px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-800 rounded-lg text-sm font-medium transition duration-150">
               Clear All
            </button>
         </div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="communities-grid">
         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="All Students,cid:PSUWhatsapp" data-date="2025-04-05">
            <h2 class="text-lg font-semibold text-slate-800">
               Penn State Community
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               This unofficial Penn State group is open to all students (freshmen,
               masters, current, etc.). It's request-only, and an admin may DM you
               for proof of affiliation (acceptance letter, ID, PSU email, etc.).
               We're a helpful, informational space where everyone supports each
               other. Casual chat is fine, but please stay respectful!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="All Students">
                  All
                  Students
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://chat.whatsapp.com/GA5z4nWiwBhH5M2xu44Rsg" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Class of 2029,cid:PSU29Insta" data-date="2025-04-10">
            <h2 class="text-lg font-semibold text-slate-800">PSU '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Unofficial Penn State Class of 2029! 🥳 This is where the magic
               happens – get ready to be in your most skibidi form! It's
               request-only, so hit that button to join and let's keep it chaotic
               but respectful. 🤪
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbYpfLmo4M5OsKJD/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Class of 2029,cid:PSU29Old" data-date="2025-04-10">
            <h2 class="text-lg font-semibold text-slate-800">
               Penn State '29
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               This is THE OG unofficial, casual community for the Penn State Class of
               2029. While currently it may be inactive, it's still a good spot to connect with batchmates if it sparks
               up again!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbbXuyJsbvUv64NI/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  </p>
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,cid:Pollock29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">Pollock '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Group chat for students living in Pollock Halls at Penn State. A space to connect with hallmates, share
               updates, ask questions, and build community in the heart of campus.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbYYR43n1tETOuFK/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,cid:East29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">East '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Group chat for students living in East Halls at Penn State. A space to connect with hallmates, share
               updates, ask questions, and build community in the heart of campus.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbbD2KTLz8q3I9VU/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
               <a href="https://t.snapchat.com/7VeiZx4z" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,cid:West29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">West '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Group chat for students living in West Halls at Penn State. A space to connect with hallmates, share
               updates, ask questions, and build community in the heart of campus.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbZ8K9Z6xKPkoaK1/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,cid:South29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">South '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Group chat for students living in South Halls at Penn State. A space to connect with hallmates, share
               updates, ask questions, and build community in the heart of campus.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbbkhcyN4QEXQG4A/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,cid:North29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">North '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Group chat for students living in North Halls at Penn State. A space to connect with hallmates, share
               updates, ask questions, and build community in the heart of campus.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbZwiR17WCI8FuHK/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
               <a href="https://t.snapchat.com/c9u78p2O" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Residence Halls,Class of 2029,Misc,cid:RoomExchange" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">PSU Room Exchange</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A helpful space for Penn State students looking to swap dorm rooms! 🏠 Whether you're
               hoping for a different location, roommate, or setup, this group makes it easy to connect, post your
               current room, and find a better fit. Request to join and let the room hunt begin!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Residence Halls">
                  Residence Halls
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
            </div>
            <div class="mt-4 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbaT1IcXzXR-l2_1/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Class of 2029,cid:Smeal29" data-date="2025-05-20">
            <h2 class="text-lg font-semibold text-slate-800">Smeal '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Calling all Smeal students in the Class of 2029! 📊 This unofficial
               group is a blend of casual chat and helpful information. It's
               request-only to ensure it stays relevant for Smeal students.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbaJReTRHEtB1w_b/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
               <a href="https://snapchat.com/t/ZAbNUjb5" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Misc,cid:IndianAmerican" data-date="2025-07-20">
            <h2 class="text-lg font-semibold text-slate-800">
               Indian American Community
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A welcoming space for Indian-origin US students at Penn State! 🤝 Connect, share experiences, and build a
               supportive community. Join us for casual chats and meaningful connections!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
            </div>
            <div class="mt-4">
               <a href="https://chat.whatsapp.com/E1UeOqPg4aDI4911lw0HcD" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>


         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="STEM,Class of 2029,cid:IST29" data-date="2025-06-06">
            <h2 class="text-lg font-semibold text-slate-800">
               IST '29
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               IST '29 Snapchat community! 👩‍💻 This is the casual hangout for
               IST students in the Class of 2029. Expect a mix of fun and
               informal discussions.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-cyan-100 text-cyan-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="STEM">STEM</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://snapchat.com/t/I9Mq9SvL" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="STEM,Class of 2029,cid:Engineering29" data-date="2025-05-10">
            <h2 class="text-lg font-semibold text-slate-800">Engineering '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Future Penn State engineers, Class of 2029! 🛠️ This unofficial group
               is for you. Expect a mix of casual conversation and helpful
               engineering-related info. Request to join and connect with your
               peers.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-cyan-100 text-cyan-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="STEM">STEM</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbZaQ_XnJJxSTYfx/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
               <a href="https://snapchat.com/t/zgr33kx4" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Misc,Class of 2029,cid:Gym29" data-date="2025-06-25">
            <h2 class="text-lg font-semibold text-slate-800">PSU Gym 2029</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A dedicated community for fitness enthusiasts in Penn State's Class of 2029! 🏋️‍♂️ Whether you're into
               weightlifting, yoga, or just staying this group is the perfect place to connect, share tips, and
               plan gym sessions together. Request to join and let's stay fit!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://ig.me/j/AbbJ3w4SAoXtdAfQ/" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] btn-instagram text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
               <a href="https://snapchat.com/t/ln6IyBFv" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Misc,Class of 2029,cid:Run29" data-date="2025-07-17">
            <h2 class="text-lg font-semibold text-slate-800">PSU Run 2029</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A dedicated community for runners in Penn State’s Class of 2029! 🏃‍♂️ Whether you’re a seasoned
               marathoner or just starting out, this group is the perfect place to connect, share tips, and plan runs
               together. Request to join and let’s hit the road!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbZz8V3JqE7uvDfy/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Misc,cid:StuLib" data-date="2025-08-04">
            <h2 class="text-lg font-semibold text-slate-800">PSU Student Library</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A dedicated community for students to share and exchange books, notes, and resources at Penn State! 📚
               Whether you’re looking to borrow textbooks/notes or just connect with fellow students, this group is the
               perfect place to do exactly that. Request to join and let’s help each other succeed!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/Abb-wNEz-8kGQAKT/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Misc,cid:Baddies" data-date="2025-06-25">
            <h2 class="text-lg font-semibold text-slate-800">Penn State Baddies</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A fun and empowering community for girls in Penn State's Class of 2029! 💃 Whether you're looking to make
               friends, share experiences, or just vibe, this group is the perfect space to connect and support each
               other. Request to join and let's celebrate being baddies together!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-lime-100 text-lime-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Misc">Misc</span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbZIzYKf4Y3SuyIa/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="International,Class of 2029,cid:UAE29" data-date="2025-05-20">
            <h2 class="text-lg font-semibold text-slate-800">UAE '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               An unofficial community for Penn State students from the UAE (Class
               of 2029)! 🇦🇪 Connect with fellow students, share info, and enjoy
               some casual chats. Request to join!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbblzVBVnn7pD8oo/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col h-auto community-card"
            data-tags="Travel Planning,Fall 2025,International,cid:MumbaiToPSU" data-date="2025-05-22"
            data-expiry="2025-08-25">
            <h2 class="text-lg font-semibold text-slate-800">Mumbai to PSU</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Planning your journey from Mumbai to Penn State for Fall 2025? This
               informational WhatsApp group is for Class of 2029 students looking
               to coordinate flights and travel together! Get updates and tips for
               your relocation.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Travel Planning">
                  Travel Planning
               </span>
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Fall 2025">
                  Fall 2025
               </span>
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
            </div>
            <div class="mt-4">
               <a href="https://chat.whatsapp.com/KJdeJ4IeW2A5ufIXwaYtDg" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col h-auto community-card"
            data-tags="Travel Planning,Fall 2025,International,cid:DelhiToPSU" data-date="2025-08-09"
            data-expiry="2025-08-25">
            <h2 class="text-lg font-semibold text-slate-800">Delhi to PSU</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Planning your journey from Delhi to Penn State for Fall 2025? This
               informational Instagram GC is for Class of 2029 students looking
               to coordinate flights and travel together! Get updates and tips for
               your relocation.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Travel Planning">
                  Travel Planning
               </span>
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Fall 2025">
                  Fall 2025
               </span>
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbZfd6JYfyHezRDT/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col h-auto community-card"
            data-tags="Travel Planning,Fall 2025,International,cid:BengaluruToPSU" data-date="2025-05-23"
            data-expiry="2025-08-25">
            <h2 class="text-lg font-semibold text-slate-800">Bengaluru to PSU</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Planning your journey from Bengaluru to Penn State for Fall 2025? This
               informational Instagram GC is for Class of 2029 students looking
               to coordinate flights and travel together! Get updates and tips for
               your relocation.
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Travel Planning">
                  Travel Planning
               </span>
               <span class="tag inline-block bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Fall 2025">
                  Fall 2025
               </span>
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/Abb_s-mM48cOv_fQ/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="International,Class of 2029,cid:ICLC29" data-date="2025-05-20">
            <h2 class="text-lg font-semibold text-slate-800">
               ICLC '29'
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               This WhatsApp group is for International joining Penn State in the
               Class of 2029. A dedicated space for informational updates and
               support for our Indian community. No request needed!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://chat.whatsapp.com/LEHPPv1sT4i74he7V1G20a" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="International,Graduate Students,cid:IGSA" data-date="2025-05-20">
            <h2 class="text-lg font-semibold text-slate-800">
               IGSA Community
            </h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A WhatsApp group is for all Indian Graduate Students at Penn State. A dedicated space for informational
               updates, networking, and support. Join us to connect with fellow graduate students!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span
                  class="tag inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="International">International</span>
               <span
                  class="tag inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Graduate Students">
                  Graduate Students
               </span>
            </div>
            <div class="mt-4">
               <a href="https://chat.whatsapp.com/LEHPPv1sT4i74he7V1G20a" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Class of 2029,cid:Parents29" data-date="2025-04-20">
            <h2 class="text-lg font-semibold text-slate-800">Parents '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               A dedicated WhatsApp group for parents of Penn State Class of 2029
               students. Share information, ask questions, and connect with other
               parents. No request needed!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://chat.whatsapp.com/HNgNFVEETU13pyUjMd6hS0" target="_blank" rel="noopener noreferrer"
                  class="block w-full bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="STEM,Class of 2029,cid:CSDS29" data-date="2025-05-10">
            <h2 class="text-lg font-semibold text-slate-800">CS/DS '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Calling all Computer Science & Data Science students for Penn State
               Class of 2029! 💻 This unofficial hub is a mix of informational
               discussions, casual chats, and yes, nerdy memes. Be respectful, and
               request to join!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-cyan-100 text-cyan-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="STEM">STEM</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbakxnmmQAqRmqyN/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="STEM,Class of 2029,cid:Premed29" data-date="2025-07-20">
            <h2 class="text-lg font-semibold text-slate-800">Premed '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Future docs, unite! ⚕️ This is the go-to space to stress over orgo together, swap resources, share
               shadowing/internship ops, or just rant about chem labs. Whether you're in it for the MD, DO, or just
               surviving Bio 110 — welcome to the grind (and the memes).
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-cyan-100 text-cyan-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="STEM">STEM</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbbQHyJkP9fKsWWL/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Alternate Campus,Class of 2029,cid:Harrisburg29" data-date="2025-05-22">
            <h2 class="text-lg font-semibold text-slate-800">Harrisburg '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Calling all PSU Harrisburg (Class of 2029) students! This unofficial hub is a mix of informational
               discussions
               and casual chats. Be respectful, and request to join!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Alternate Campus">Alternate Campus</span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-4">
               <a href="https://ig.me/j/AbbCY5bFulREMaaL/" target="_blank" rel="noopener noreferrer"
                  class="block w-full btn-instagram text-white text-center font-medium py-2 px-4 rounded-lg transition duration-150">
                  Join Instagram
               </a>
            </div>
         </div>

         <div class="bg-white rounded-xl border border-slate-200 p-5 flex flex-col community-card"
            data-tags="Summer Students,Class of 2029,cid:Summer29" data-date="2025-05-18">
            <h2 class="text-lg font-semibold text-slate-800">Summer '29</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               Hey, Summer '29 students! ☀️ This unofficial WhatsApp group is
               specifically for those starting Penn State in the summer. Get
               informational tips, chat casually, and connect with your early-start
               peers. Request to join!
            </p>
            <div class="mt-4 overflow-x-auto flex gap-2 tag-scroll pb-2">
               <span class="tag inline-block bg-teal-100 text-teal-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Summer Students">
                  Summer
                  Students
               </span>
               <span class="tag inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap"
                  data-tag="Class of 2029">
                  Class of 2029
               </span>
            </div>
            <div class="mt-2 flex flex-wrap gap-2">
               <a href="https://chat.whatsapp.com/EQgJu6N7Vo6FAnceQb2zE2" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join WhatsApp
               </a>
               <a href="https://snapchat.com/t/vP1rUCno" target="_blank" rel="noopener noreferrer"
                  class="flex-1 min-w-[calc(50%-0.5rem)] bg-yellow-500 hover:bg-yellow-600 text-white text-center font-medium mt-2 py-2 px-4 rounded-lg transition duration-150">
                  Join Snapchat
               </a>
            </div>
         </div>

         <div class="rounded-xl border border-slate-200 p-5 flex flex-col community-card" data-tags="">
            <h2 class="text-lg font-semibold text-slate-800">There's more?</h2>
            <p class="text-slate-600 text-sm mt-2 flex-grow">
               This index is manually maintained and may not include all the available communities. If you know of any
               other groups, please let us know! DM
               <a href="https://instagram.com/psciwebsite" class="font-bold underline">PSCI on Instagram</a>
               or Join
               <a href="https://chat.whatsapp.com/GA5z4nWiwBhH5M2xu44Rsg" class="font-bold underline">
                  Penn State
                  Community
               </a>
               and share the name, description and link to your
               community.
            </p>
         </div>
      </div>
   </main>

   <footer class="border-t border-slate-200 mt-12">
      <div class="container mx-auto p-4 text-center text-slate-500 text-sm">
         <p>
            Made with ❤️ by
            <a href="https://github.com/XelXen" class="underline">XelXen</a>
         </p>
         <p>
            PSCI is not affiliated with Pennsylvania State University or any of its campuses. This is an unofficial
            initiative maintained by students, and aimed towards fostering community and connection among students. The
            source code for this website
            is available on
            <a href="https://github.com/PSCIndex/PSCIndex.github.io" class="underline font-bold">GitHub</a>
            . All
            rights reserved.
         </p>
      </div>
   </footer>
   <script>
      class TagFilter {
         constructor() {
            this.activeTags = new Set();
            this.allAvailableTags = new Set();
            this.searchTerm = "";
            this.currentDate = new Date();
            this.init();
         }

         init() {
            this.processCommunityCardsForNewTag();
            this.populateAllTagsBar();
            this.loadFromURLAndSearch();
            this.bindEvents();
            this.updateDisplay();
         }

         isDateWithinLastWeek(dateString) {
            const cardDate = new Date(dateString + "T00:00:00");
            if (isNaN(cardDate.getTime())) return false;
            const sevenDaysAgo = new Date(this.currentDate);
            sevenDaysAgo.setDate(this.currentDate.getDate() - 7);
            const normalizedCardDate = new Date(cardDate.getFullYear(), cardDate.getMonth(), cardDate.getDate());
            const normalizedCurrentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), this.currentDate.getDate());
            const normalizedSevenDaysAgo = new Date(sevenDaysAgo.getFullYear(), sevenDaysAgo.getMonth(), sevenDaysAgo.getDate());
            return normalizedCardDate >= normalizedSevenDaysAgo && normalizedCardDate <= normalizedCurrentDate;
         }

         processCommunityCardsForNewTag() {
            document.querySelectorAll('.community-card').forEach(card => {
               const dateStr = card.dataset.date;
               let existingTags = card.dataset.tags ? card.dataset.tags.split(',').map(t => t.trim()).filter(t => t) : [];

               const expiryStr = card.dataset.expiry;
               let isExpired = false;
               if (expiryStr) {
                  const expiryDate = new Date(expiryStr + "T23:59:59");
                  if (this.currentDate > expiryDate) {
                     isExpired = true;
                     if (!existingTags.includes("Deprecated")) {
                        existingTags.unshift("Deprecated");
                     }

                     const tagContainer = card.querySelector('.tag-scroll');
                     if (tagContainer && !tagContainer.querySelector('[data-tag="Deprecated"]')) {
                        const expiredTagSpan = document.createElement('span');
                        expiredTagSpan.className = 'tag bg-red-100 text-red-800 inline-block text-xs px-2 py-1 rounded-full whitespace-nowrap';
                        expiredTagSpan.dataset.tag = "Deprecated";
                        expiredTagSpan.textContent = "Deprecated";
                        tagContainer.insertBefore(expiredTagSpan, tagContainer.firstChild);
                     }

                     card.querySelectorAll('a[href]').forEach(joinButton => {
                        joinButton.classList.add('expired-btn');
                     });
                  }
               }

               if (dateStr && this.isDateWithinLastWeek(dateStr)) {
                  if (!existingTags.includes("Recently Added")) {
                     existingTags.push("Recently Added");
                  }
                  const tagContainer = card.querySelector('.tag-scroll');
                  if (tagContainer && !tagContainer.querySelector('[data-tag="Recently Added"]')) {
                     const newTagSpan = document.createElement('span');
                     newTagSpan.className = 'tag bg-fuchsia-100 text-fuchsia-800 hover:bg-fuchsia-200 inline-block text-xs px-2 py-1 rounded-full whitespace-nowrap';
                     newTagSpan.dataset.tag = "Recently Added";
                     newTagSpan.textContent = "Recently Added";
                     tagContainer.appendChild(newTagSpan);
                  }
               }

               card.querySelectorAll('a[href]').forEach(joinButton => {
                  const buttonText = joinButton.textContent.trim().toLowerCase();
                  if (buttonText.includes('instagram') && !existingTags.includes('Instagram')) {
                     existingTags.push('Instagram');
                  }
                  if (buttonText.includes('whatsapp') && !existingTags.includes('WhatsApp')) {
                     existingTags.push('WhatsApp');
                  }
                  if (buttonText.includes('snapchat') && !existingTags.includes('Snapchat')) {
                     existingTags.push('Snapchat');
                  }
               });

               existingTags.forEach(tag => {
                  if (!tag.startsWith('cid:')) {
                     this.allAvailableTags.add(tag);
                  }
               });

               const cidTag = existingTags.find(tag => tag.startsWith('cid:'));
               const tagContainer = card.querySelector('.tag-scroll');
               if (cidTag && tagContainer && !tagContainer.querySelector(`[data-tag="${cidTag}"]`)) {

                  const cidSpan = document.createElement('span');
                  cidSpan.className = 'tag bg-slate-100 text-slate-800 inline-flex items-center text-xs px-2 py-1 rounded-full whitespace-nowrap';
                  cidSpan.dataset.tag = cidTag;

                  // Icon from Tabler Icons - https://github.com/tabler/tabler-icons/blob/master/LICENSE
                  cidSpan.innerHTML = `
                     <svg class="w-4 h-4 mr-1 text-gray-500 cursor-pointer" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M8.99903 15.0003L14.999 9.00031M10.999 6.00031L11.462 5.46431C12.3998 4.52663 13.6717 3.99991 14.9979 4C16.3241 4.00009 17.5959 4.527 18.5335 5.46481C19.4712 6.40261 19.9979 7.6745 19.9978 9.00066C19.9977 10.3268 19.4708 11.5986 18.533 12.5363L17.999 13.0003M12.999 18.0003L12.602 18.5343C11.653 19.472 10.3727 19.9979 9.03853 19.9979C7.7044 19.9979 6.42404 19.472 5.47503 18.5343C5.00715 18.072 4.63567 17.5215 4.38213 16.9146C4.1286 16.3077 3.99805 15.6565 3.99805 14.9988C3.99805 14.3411 4.1286 13.6899 4.38213 13.083C4.63567 12.4761 5.00715 11.9256 5.47503 11.4633L5.99903 11.0003" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                     </svg>
                     <span class="share-cid-text cursor-pointer text-gray-500">Share</span>
                  `;

                  cidSpan.addEventListener('click', (e) => {
                     e.stopPropagation();
                     const cidValue = cidTag;
                     const url = new URL(window.location);
                     url.searchParams.set('tag', cidValue);
                     navigator.clipboard.writeText(url.toString()).then(() => {
                        cidSpan.querySelector('.share-cid-text').textContent = "Copied!";
                        setTimeout(() => {
                           cidSpan.querySelector('.share-cid-text').textContent = "Share";
                        }, 1200);
                     });
                  });

                  tagContainer.appendChild(cidSpan);
               }

               card.dataset.tags = existingTags.join(',');
            });
         }

         populateAllTagsBar() {
            const allTagsContainer = document.getElementById('all-tags-container');
            allTagsContainer.innerHTML = '';
            const sortedTags = Array.from(this.allAvailableTags).sort((a, b) => {
               if (a === "Recently Added") return -1;
               if (b === "Recently Added") return 1;
               return a.localeCompare(b);
            });
            sortedTags.forEach(tag => {
               const tagElement = document.createElement('span');
               tagElement.className = 'tag inline-block bg-slate-100 text-slate-800 hover:bg-slate-200 text-xs px-2 py-1 rounded-full whitespace-nowrap';
               if (tag === "Recently Added") {
                  tagElement.classList.add('bg-fuchsia-100', 'text-fuchsia-800', 'hover:bg-fuchsia-200');
                  tagElement.classList.remove('bg-slate-100', 'text-slate-800', 'hover:bg-slate-200');

               }
               tagElement.dataset.tag = tag;
               tagElement.textContent = tag;
               allTagsContainer.appendChild(tagElement);
            });
         }

         loadFromURLAndSearch() {
            const urlParams = new URLSearchParams(window.location.search);
            const tagsFromURL = urlParams.getAll('tag');
            this.activeTags = new Set(tagsFromURL);

            this.searchTerm = urlParams.get('search') || "";
            document.getElementById('search-bar').value = this.searchTerm;
         }

         bindEvents() {
            const searchBar = document.getElementById('search-bar');
            searchBar.addEventListener('input', (e) => {
               this.searchTerm = e.target.value;
               this.updateURL();
               this.updateDisplay();
            });

            document.getElementById('all-tags-container').addEventListener('click', (e) => {
               const tagElement = e.target.closest('.tag');
               if (tagElement && tagElement.dataset.tag) {
                  this.toggleTag(tagElement.dataset.tag);
               }
            });

            document.querySelectorAll('.community-card .tag-scroll').forEach(container => {
               container.addEventListener('click', (e) => {
                  const tagElement = e.target.closest('.tag');
                  if (tagElement && tagElement.dataset.tag) {
                     this.toggleTag(tagElement.dataset.tag);
                  }
               });
            });

            const clearFiltersButton = document.getElementById('clear-filters');
            clearFiltersButton.addEventListener('click', () => {
               this.clearAllFilters();
            });
         }

         toggleTag(tagName) {
            if (this.activeTags.has(tagName)) {
               this.activeTags.delete(tagName);
            } else {
               this.activeTags.add(tagName);
            }
            this.updateURL();
            this.updateDisplay();
         }

         clearAllFilters() {
            this.activeTags.clear();
            this.searchTerm = "";
            document.getElementById('search-bar').value = "";
            this.updateURL();
            this.updateDisplay();
         }

         updateURL() {
            const url = new URL(window.location);
            url.searchParams.delete('tag');
            this.activeTags.forEach(tag => {
               url.searchParams.append('tag', tag);
            });

            if (this.searchTerm) {
               url.searchParams.set('search', this.searchTerm);
            } else {
               url.searchParams.delete('search');
            }

            window.history.pushState({}, '', url);
         }

         updateDisplay() {
            const isCidFilter = Array.from(this.activeTags).some(tag => tag.startsWith('cid:'));
            const searchBar = document.getElementById('search-bar');
            const allTagsBar = document.getElementById('all-tags-bar');
            if (isCidFilter) {
               if (searchBar) searchBar.classList.add('hidden');
               if (allTagsBar) allTagsBar.classList.add('hidden');
            } else {
               if (searchBar) searchBar.classList.remove('hidden');
               if (allTagsBar) allTagsBar.classList.remove('hidden');
            }
            this.updateFilterStatus();
            this.filterCommunities();
            this.updateAllTagsBarHighlights();
         }

         updateFilterStatus() {
            const filterStatusDiv = document.getElementById('filter-status');
            const activeFiltersContainer = document.getElementById('active-filters');

            if (this.activeTags.size === 0 && !this.searchTerm.trim()) {
               filterStatusDiv.classList.add('hidden');
               activeFiltersContainer.innerHTML = '';
               return;
            }

            filterStatusDiv.classList.remove('hidden');
            activeFiltersContainer.innerHTML = '';

            this.activeTags.forEach(tag => {
               const tagElement = document.createElement('span');
               tagElement.className = 'inline-block bg-slate-200 text-slate-800 text-sm px-3 py-1 rounded-full';
               if (tag === "Recently Added") {
                  tagElement.classList.add('bg-fuchsia-100', 'text-fuchsia-800', 'hover:bg-fuchsia-200');
                  tagElement.classList.remove('bg-slate-200', 'text-slate-800', 'hover:bg-slate-300');
               }
               tagElement.textContent = tag;
               activeFiltersContainer.appendChild(tagElement);
            });

            if (this.searchTerm.trim()) {
               const searchDisplayElement = document.createElement('span');
               searchDisplayElement.className = 'inline-block bg-slate-200 text-slate-800 text-sm px-3 py-1 rounded-full';
               searchDisplayElement.textContent = `Search: "${this.searchTerm}"`;
               activeFiltersContainer.appendChild(searchDisplayElement);
            }
         }

         updateAllTagsBarHighlights() {
            const allTagsContainer = document.getElementById('all-tags-container');
            allTagsContainer.querySelectorAll('.tag').forEach(tagElement => {
               if (this.activeTags.has(tagElement.dataset.tag)) {
                  tagElement.classList.remove('bg-slate-100', 'text-slate-800', 'hover:bg-slate-200');
                  if (tagElement.dataset.tag !== "Recently Added") {
                     tagElement.classList.add('bg-blue-100', 'text-blue-800');
                     tagElement.classList.add('ring-2', 'ring-blue-500', 'font-semibold');
                  } else {
                     tagElement.classList.add('bg-fuchsia-200', 'text-fuchsia-800');
                     tagElement.classList.add('ring-2', 'ring-fuchsia-500', 'font-semibold');
                  }
               } else {
                  tagElement.classList.remove('ring-2', 'ring-blue-500', 'ring-fuchsia-500', 'font-semibold', 'bg-blue-100', 'text-blue-800', 'bg-fuchsia-200', 'text-fuchsia-800');

                  if (tagElement.dataset.tag !== "Recently Added") {
                     tagElement.classList.add('bg-slate-100');
                  } else {
                     tagElement.classList.add('bg-fuchsia-100', 'text-fuchsia-800', 'hover:bg-fuchsia-200');
                  }
               }
            });
         }

         filterCommunities() {
            const searchTermLower = this.searchTerm.toLowerCase().trim();

            document.querySelectorAll('.community-card').forEach(card => {
               let isVisible = true;

               if (this.activeTags.size > 0) {
                  const cardTags = card.dataset.tags ? card.dataset.tags.split(',').map(t => t.trim()) : [];
                  const matchesAllTags = Array.from(this.activeTags).every(activeTag => cardTags.includes(activeTag));
                  if (!matchesAllTags) {
                     isVisible = false;
                  }
               }

               if (isVisible && searchTermLower) {
                  const cardTitle = card.querySelector('h2')?.textContent.toLowerCase() || "";
                  const cardDescription = card.querySelector('p')?.textContent.toLowerCase() || "";
                  const cardDataTagsString = card.dataset.tags?.toLowerCase() || "";

                  const matchesSearch = cardTitle.includes(searchTermLower) ||
                     cardDescription.includes(searchTermLower) ||
                     cardDataTagsString.includes(searchTermLower);
                  if (!matchesSearch) {
                     isVisible = false;
                  }
               }

               if (isVisible) {
                  card.classList.remove('hidden');
               } else {
                  card.classList.add('hidden');
               }
            });
         }
      }

      document.addEventListener('DOMContentLoaded', () => {
         new TagFilter();
      });

      window.addEventListener('popstate', () => {
         const filter = new TagFilter();
         filter.loadFromURLAndSearch();
         filter.updateDisplay();
      });

      function showInstagramWarningIfNeeded() {
         const ua = navigator.userAgent || "";
         const isInstagram = ua.includes("Instagram");
         const warningBar = document.getElementById('instagram-warning-bar');
         if (isInstagram) {
            warningBar.classList.remove('hidden');
         } else {
            warningBar.classList.add('hidden');
         }
      }

      document.addEventListener('DOMContentLoaded', () => {
         new TagFilter();
         showInstagramWarningIfNeeded();
      });

      window.addEventListener('popstate', () => {
         const filter = new TagFilter();
         filter.loadFromURLAndSearch();
         filter.updateDisplay();
         showInstagramWarningIfNeeded();
      });
   </script>
</body>

</html>
